{
  "id": "deterministic-security-scanning-build-loop",
  "title": "Deterministic Security Scanning Build Loop",
  "title_ko": "결정론적 보안 스캔 빌드 루프",
  "category": "Security & Safety",
  "status": "proposed",
  "original_url": "https://ghuntley.com/secure-codegen/",
  "problem": {
    "en": "Non-deterministic security approaches (Cursor rules, MCP tools) are fundamentally flawed because security requires absolute determinism—code is either secure or not secure.",
    "ko": "비결정론적 보안 접근 방식(Cursor 규칙, MCP 도구)은 근본적으로 결함이 있습니다. 보안은 절대적인 결정론을 요구하기 때문입니다—코드는 안전하거나 안전하지 않습니다."
  },
  "solution": {
    "en": "Implement deterministic security validation through the build loop: non-deterministic generation phase, then deterministic backpressure phase with security scanning tools (SAST, DAST).",
    "ko": "빌드 루프를 통해 결정론적 보안 검증을 구현합니다: 비결정론적 생성 단계 후 보안 스캔 도구(SAST, DAST)를 사용한 결정론적 백프레셔 단계."
  },
  "ascii_diagram": "┌─────────────┐\n│Agent Writes │\n│   Code      │\n└──────┬──────┘\n       │\n┌──────▼──────┐\n│  make all   │\n│ (build+scan)│\n└──────┬──────┘\n   ┌───┴───┐\n   ▼       ▼\n[Pass]  [Fail]\n   │       │\n   │  ┌────▼────┐\n   │  │Security │\n   │  │Error in │\n   │  │Context  │\n   │  └────┬────┘\n   │       │\n   │  ┌────▼────┐\n   │  │Agent Fix│\n   │  │& Regen  │\n   │  └────┬────┘\n   │       │\n   └───┬───┘\n       ▼\n   [Done]",
  "mermaid_diagram": "graph TD\n    A[Agent Generates Code] --> B[Run Build Target]\n    B --> C{Security Scan Passes?}\n    C -->|No| D[Security Tool Output in Context]\n    D --> E[Agent Sees Error & Regenerates]\n    E --> A\n    C -->|Yes| F[Code Generation Complete]",
  "code_example": "# Makefile with security scanning\n.PHONY: all build test security-scan\n\nall: build test security-scan\n\nbuild:\n    @echo \"Build completed successfully\"\n    @exit 0\n\ntest:\n    @echo \"Tests completed successfully\"\n    @exit 0\n\nsecurity-scan:\n    # Use existing security scanning tools\n    semgrep --config=auto src/\n    bandit -r src/\n    @exit $?\n\n# Agent instructions: After every code change,\n# run `make all` and fix any security issues",
  "when_to_use": {
    "en": ["Security-critical code generation", "CI/CD integration", "Compliance requirements"],
    "ko": ["보안 중요 코드 생성", "CI/CD 통합", "컴플라이언스 요구사항"]
  },
  "pros": {
    "en": ["Leverages battle-tested tools", "Consistent validation", "Works with any agent"],
    "ko": ["검증된 도구 활용", "일관된 검증", "모든 에이전트와 호환"]
  },
  "cons": {
    "en": ["Increases build time", "May produce false positives", "Requires fast security tools"],
    "ko": ["빌드 시간 증가", "오탐 발생 가능", "빠른 보안 도구 필요"]
  },
  "tags": ["security", "deterministic", "build-loop", "backpressure", "static-analysis"]
}
